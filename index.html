<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>CardStore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app">
      <!-- HEADER -->
      <header class="app-header">
        <div class="app-title">
          <div class="app-name">CardStore</div>
          <div class="app-subtitle">Cartes cadeaux ‚Ä¢ Paiement TON</div>
        </div>
      </header>

      <!-- VUES (onglets) -->
      <main>
        <!-- VUE BOUTIQUE -->
        <section id="shopView" class="view view-hidden">
          <div class="filters">
            <div class="filter-group">
              <label for="brandFilter">Marque</label>
              <select id="brandFilter">
                <option value="all">Toutes</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="amountFilter">Montant</label>
              <select id="amountFilter">
                <option value="all">Tous</option>
                <option value="25">25‚Ç¨</option>
                <option value="50">50‚Ç¨</option>
                <option value="100">100‚Ç¨</option>
                <option value="11">11‚Ç¨</option>
                <option value="33">33‚Ç¨</option>
                <option value="66">66‚Ç¨</option>
              </select>
            </div>
          </div>

          <section id="productsGrid" class="products-grid">
            <!-- Cartes g√©n√©r√©es en JS -->
          </section>
        </section>

        <!-- VUE PANIER (onglet par d√©faut) -->
        <section id="cartView" class="view view-active">
          <h2 class="view-title">üõí Ton panier</h2>
          <div id="cartItemsList" class="cart-items-list">
            <!-- Items panier g√©n√©r√©s en JS -->
          </div>
          <div class="cart-summary-page">
            <div class="cart-summary-line">
              <span>Total</span>
              <span id="cartTotalPage">0 ‚Ç¨</span>
            </div>
            <button id="payButtonPage" class="btn-primary wide">
              Payer en TON
            </button>
          </div>
        </section>

        <!-- VUE PROFIL (placeholder) -->
        <section id="profileView" class="view view-hidden">
          <h2 class="view-title">üë§ Profil</h2>
          <p class="profile-text">
            Bient√¥t : historique des achats, gestion des comptes, promos
            personnalis√©es...
          </p>
        </section>
      </main>
    </div>

    <!-- BARRE PANIER FIXE (HUD) -->
    <div class="cart-bar">
      <div class="cart-info">
        <span id="cartItemsCount">0 article</span>
        <span id="cartTotal">0 ‚Ç¨</span>
      </div>
      <button id="payButton" class="btn-primary">Payer en TON</button>
    </div>

    <!-- NAV BAR M√âTAL ARGENT -->
    <nav class="bottom-nav">
      <button class="nav-btn" data-tab="shop" aria-label="Boutique">üè™</button>
      <button class="nav-btn nav-btn-active" data-tab="cart" aria-label="Panier">üõí</button>
      <button class="nav-btn" data-tab="profile" aria-label="Profil">üë§</button>
    </nav>

    <!-- MODAL PAIEMENT -->
    <div id="paymentModal" class="modal-backdrop">
      <div class="modal">
        <h2>Paiement TON</h2>
        <p>R√©sum√© de ta commande :</p>
        <pre id="paymentSummary"></pre>

        <div class="payment-address">
          Adresse TON √† payer :
          <code id="tonAddress"></code>
        </div>

        <p class="modal-note">
          Apr√®s ton paiement, envoie le re√ßu ou TX hash pour recevoir tes cartes
          cadeaux.
        </p>

        <button id="closeModal" class="btn-secondary">Fermer</button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
